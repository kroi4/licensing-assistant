## יומן פיתוח (Development Log)
- התחלה בגישה סטטית: מיפוי ידני של סעיפים מהמסמך לרשימת כללים.
- מעבר לארכיטקטורת ETL: עיבוד חד־פעמי של מסמך ה-Word → יצירת JSON מובנה; בזמן ריצה השרת עובד רק מול ה-JSON (ללא קריאות למסמך).
- ניסיון עיבוד PDF → בעיות כיווניות בעברית → אימוץ DOCX כמקור העיקרי לעיבוד.
- עיצוב חוויית הדוח: הוספת כפתור “הצג עוד” להפחתת עומס מידע ולהצגת פרטים לפי צורך.
- אינטגרציית OpenAI API: בחירת מודל חסכוני, הוספת פרמטרים דטרמיניסטיים (temperature=0, top_p=1, seed) והטמעת fallback ללא-AI למקרי מגבלת מכסה/שגיאה.
- חידוד מנוע הכללים: מסלולי כבאות (תצהיר/מלא לפי שטח/תפוסה), משטרה (אלכוהול/תפוסה>200), גז/מנדפים, שליחת מזון, קירור לאחר בישול, הפרדות בשר/דגים.
- סידור פרויקט: `data/raw → data/processed → backend/rules`, תיעוד והפרדת תהליכי build/run.

## שיפורים עתידיים
- ממשק איסוף כ״שיח מודרך״ (Chat-Flow) במקום טופס סטטי, כולל הסתעפויות ולידציה; אפשרות הטמעה ב-WhatsApp.
- תמיכה בענפי רישוי נוספים (לא רק מסעדות) באמצעות סט כללים פר-ענף והפרדת קונפיגורציה.
- ממשק ניהול כללים (CRUD) + גרסאות לכללים, עם `/api/reload-rules` לריענון חם.
- יצוא דוח רשמי ל-DOCX/PDF מתבנית עם מספור סעיפים, הפניות לפרקים וקישורים.
- בדיקות “זהב” ל-MVP: קלט-פלט קבועים למנוע הכללים + ולידציית סכמת JSON לפלט ה-AI.
- i18n (עברית/אנגלית) ושיפורי נגישות (RTL מלא, קונטרסט/טבלאות נגישות).

## לקחים (Lessons Learned)
- **הפרדה בין מקור להרצה**: ETL חד־פעמי מ-Word/PDF → JSON; בזמן ריצה אין תלות במסמך. DOCX עדיף ל-RTL.
- **דטרמיניזם ואמינות**: `temperature=0`, `top_p=1`, `seed`, ו-`response_format=json` מייצרים תוצרים יציבים לשחזור אצל בודקים שונים.
- **חוויית משתמש קובעת**: פחות “קיר טקסט”, יותר גילוי הדרגתי (“הצג עוד”) ותובנות ממוקדות פעולה.
- **כלי AI לפיתוח מזרזים עבודה**: שימוש חכם ב-Cursor/Copilot סייע מאוד להתקדם במשימה ולצלוח אותה בזמן מצומצם יחסית ולדייק אותה.
- **ביטחון ובקרה**: Fallback ללא-AI מבטיח זמינות גם בלי מכסה, ולוגים/בדיקות מונעים הפתעות.
